from traits.api import (HasPrivateTraits, List, Instance, Enum, Int, Bool,
                        Range,
                       )

class AutomaCard(HasPrivateTraits):
  card_id = Int

  pass_check = Bool
  pass_bonus = Range(0, 2)
  support_endgame_scoring = Enum('neither', 'top', 'bottom')
  support_range = Int(2)
  support_direction_selection = Enum('top', 'bottom')
  support_numbered_selection_number = Int
  support_numbered_selection_direction = Enum('left', 'right')
  action = Enum('faction_action', 'build', 'upgrade', 'advance_highest',
                'advance_random', 'power_or_qic_action')
  vp = Int

  setup_bonus = Range(0, 4)

  second_action = Enum(None, 'faction_action', 'build', 'upgrade',
                       'advance_highest', 'advance_random',
                       'power_or_qic_action')
  faction_tiebreak = Enum(None, 'closest_distance', 'transdim')
  faction_range = Int

AUTOMA_CARDS = {
                1 : AutomaCard(card_id = 1,
                               pass_check = True,
                               pass_bonus = 0,
                               support_endgame_scoring = 'top',
                               support_range = 4,
                               support_direction_selection = 'top',
                               support_numbered_selection_number = 1,
                               support_numbered_selection_direction = 'right',
                               action = 'upgrade',
                               vp = 1,
                               setup_bonus = 0),
                2 : AutomaCard(card_id = 2,
                               pass_check = True,
                               pass_bonus = 1,
                               support_endgame_scoring = 'bottom',
                               support_range = 2,
                               support_direction_selection = 'top',
                               support_numbered_selection_number = 2,
                               support_numbered_selection_direction = 'right',
                               action = 'upgrade',
                               vp = 1,
                               setup_bonus = 1),
                3 : AutomaCard(card_id = 3,
                               pass_check = True,
                               pass_bonus = 2,
                               support_endgame_scoring = 'top',
                               support_range = 2,
                               support_direction_selection = 'top',
                               support_numbered_selection_number = 3,
                               support_numbered_selection_direction = 'right',
                               action = 'advance_highest',
                               vp = 1,
                               setup_bonus = 2),
                4 : AutomaCard(card_id = 4,
                               pass_check = False,
                               pass_bonus = 0,
                               support_endgame_scoring = 'neither',
                               support_range = 2,
                               support_direction_selection = 'bottom',
                               support_numbered_selection_number = 4,
                               support_numbered_selection_direction = 'left',
                               action = 'build',
                               vp = 1,
                               setup_bonus=3),
                5 : AutomaCard(card_id = 5,
                               pass_check = True,
                               pass_bonus = 1,
                               support_endgame_scoring = 'bottom',
                               support_range = 2,
                               support_direction_selection = 'bottom',
                               support_numbered_selection_number = 5,
                               support_numbered_selection_direction = 'left',
                               action = 'power_or_qic_action',
                               vp = 1,
                               setup_bonus = 4),
                6 : AutomaCard(card_id = 6,
                               pass_check = False,
                               pass_bonus = 2,
                               support_endgame_scoring = 'top',
                               support_range = 2,
                               support_direction_selection = 'top',
                               support_numbered_selection_number = 1,
                               support_numbered_selection_direction = 'left',
                               action = 'build',
                               vp = 3,
                               setup_bonus = 0),
                7 : AutomaCard(card_id = 7,
                               pass_check = False,
                               pass_bonus = 2,
                               support_endgame_scoring = 'top',
                               support_range = 2,
                               support_direction_selection = 'top',
                               support_numbered_selection_number = 4,
                               support_numbered_selection_direction = 'right',
                               action = 'advance_random',
                               vp = 0,
                               setup_bonus = 1),
                8 : AutomaCard(card_id = 8,
                               pass_check = True,
                               pass_bonus = 1,
                               support_endgame_scoring = 'bottom',
                               support_range = 4,
                               support_direction_selection = 'bottom',
                               support_numbered_selection_number = 1,
                               support_numbered_selection_direction = 'left',
                               action = 'build',
                               vp = 3,
                               setup_bonus = 2),
                9 : AutomaCard(card_id = 9,
                               pass_check = False,
                               pass_bonus = 2,
                               support_endgame_scoring = 'bottom',
                               support_range = 2,
                               support_direction_selection = 'bottom',
                               support_numbered_selection_number = 2,
                               support_numbered_selection_direction = 'left',
                               action = 'faction_action',
                               vp = 0,
                               setup_bonus = 3),
                10 : AutomaCard(card_id = 10,
                               pass_check = True,
                               pass_bonus = 0,
                               support_endgame_scoring = 'top',
                               support_range = 2,
                               support_direction_selection = 'bottom',
                               support_numbered_selection_number = 3,
                               support_numbered_selection_direction = 'left',
                               action = 'upgrade',
                               vp = 3,
                               setup_bonus = 4),
                11 : AutomaCard(card_id = 11,
                               pass_check = False,
                               pass_bonus = 1,
                               support_endgame_scoring = 'bottom',
                               support_range = 4,
                               support_direction_selection = 'top',
                               support_numbered_selection_number = 1,
                               support_numbered_selection_direction = 'right',
                               action = 'upgrade',
                               vp = 2,
                               setup_bonus = 0),
                12 : AutomaCard(card_id = 12,
                               pass_check = True,
                               pass_bonus = 2,
                               support_endgame_scoring = 'top',
                               support_range = 2,
                               support_direction_selection = 'bottom',
                               support_numbered_selection_number = 1,
                               support_numbered_selection_direction = 'left',
                               action = 'power_or_qic_action',
                               vp = 3,
                               setup_bonus = 1),
                13 : AutomaCard(card_id = 13,
                               pass_check = False,
                               pass_bonus = 2,
                               support_endgame_scoring = 'neither',
                               support_range = 2,
                               support_direction_selection = 'bottom',
                               support_numbered_selection_number = 2,
                               support_numbered_selection_direction = 'left',
                               action = 'faction_action',
                               vp = 0,
                               setup_bonus = 2),
                14 : AutomaCard(card_id = 14,
                               pass_check = False,
                               pass_bonus = 1,
                               support_endgame_scoring = 'bottom',
                               support_range = 2,
                               support_direction_selection = 'bottom',
                               support_numbered_selection_number = 3,
                               support_numbered_selection_direction = 'left',
                               action = 'power_or_qic_action',
                               vp = 3,
                               setup_bonus = 3),
                15 : AutomaCard(card_id = 15,
                               pass_check = False,
                               pass_bonus = 0,
                               support_endgame_scoring = 'top',
                               support_range = 2,
                               support_direction_selection = 'bottom',
                               support_numbered_selection_number = 2,
                               support_numbered_selection_direction = 'right',
                               action = 'advance_highest',
                               vp = 1,
                               setup_bonus = 4),
                16 : AutomaCard(card_id = 16,
                               pass_check = True,
                               pass_bonus = 0,
                               support_endgame_scoring = 'top',
                               support_range = 2,
                               support_direction_selection = 'top',
                               support_numbered_selection_number = 3,
                               support_numbered_selection_direction = 'right',
                               action = 'power_or_qic_action',
                               vp = 3,
                               setup_bonus = 0),
                17 : AutomaCard(card_id = 17,
                               pass_check = False,
                               pass_bonus = 0,
                               support_endgame_scoring = 'bottom',
                               support_range = 2,
                               support_direction_selection = 'top',
                               support_numbered_selection_number = 5,
                               support_numbered_selection_direction = 'right',
                               action = 'advance_random',
                               vp = 2,
                               setup_bonus = 1),
               }

FACTION_CARDS = {
                 'Taklons' : AutomaCard(action = 'build',
                                        second_action = 'power_or_qic_action',
                                        faction_range = 3,
                                        vp = 2),
                 'Firaks'  : AutomaCard(action = 'firaks_upgrade',
                                        vp = 2),
                 'Terrans' : AutomaCard(action = 'advance_gaia'
                                        second_action = 'build',
                                        faction_range = 4,
                                        vp = 2),
                 'Geodens' : AutomaCard(action = 'advance_random',
                                        second_action = 'power_or_qic_action',
                                        vp = 1),
                 'Xenos'   : AutomaCard(action = 'build',
                                        second_action = 'power_or_qic_action',
                                        faction_range = 2,
                                        vp = 2),
                 'Itars'   : AutomaCard(action = 'power_or_qic_action',
                                        second_action = 'power_or_qic_action',
                                        vp = 4),
                 'Hadsch Hallas' :
                             AutomaCard(action = 'upgrade',
                                        faction_range = 3,
                                        vp = 1)
                }
